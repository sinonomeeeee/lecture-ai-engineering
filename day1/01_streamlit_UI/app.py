import streamlit as st
import pandas as pd
import numpy as np
import time

# ============================================
# ãƒšãƒ¼ã‚¸è¨­å®š
# ============================================
st.set_page_config(page_title="Streamlit ãƒ‡ãƒ¢", layout="wide")

# ============================================
# ãƒ˜ãƒƒãƒ€ãƒ¼ ã‚«ãƒ¼ãƒ‰
# ============================================
with st.container():
    col1, col2 = st.columns([3, 1])
    with col1:
        st.title("ğŸŒŸ Streamlit åˆå¿ƒè€…å‘ã‘ãƒ‡ãƒ¢")
        st.caption("ã‚³ãƒ¡ãƒ³ãƒˆã‚’è§£é™¤ã—ãªãŒã‚‰ã€ç›´æ„Ÿçš„ã«Streamlitã®æ©Ÿèƒ½ã‚’ä½“é¨“ã—ã¾ã—ã‚‡ã†ï¼")
    with col2:
        st.image("https://streamlit.io/images/brand/streamlit-logo-primary-colormark-darktext.png", width=150)

# ============================================
# ã‚µã‚¤ãƒ‰ãƒãƒ¼
# ============================================
st.sidebar.title("ğŸ“ ãƒ‡ãƒ¢ã‚¬ã‚¤ãƒ‰")
st.sidebar.info("""
ã“ã®ãƒ‡ãƒ¢ã§ã¯ã€**ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰**ã‚’ä¸€ã¤ãšã¤è§£é™¤ã—ãªãŒã‚‰ã€
Streamlitã®é­…åŠ›ã‚’ä½“é¨“ã§ãã¾ã™ï¼
""")

# â¡ï¸ è¿½åŠ ï¼šã‚µã‚¤ãƒ‰ãƒãƒ¼ã®ç°¡æ˜“ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãƒ•ã‚©ãƒ¼ãƒ 
with st.sidebar.expander("ğŸ“£ ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯"):
    feedback = st.text_input("ãŠæ°—ã«å…¥ã‚Šæ©Ÿèƒ½ã‚’æ•™ãˆã¦ï¼")
    if st.button("é€ä¿¡ã™ã‚‹"):
        st.success(f"ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’å—ã‘ä»˜ã‘ã¾ã—ãŸï¼šã€{feedback}ã€")

# ============================================
# ãƒ©ã‚¤ãƒˆãƒ»ãƒ€ãƒ¼ã‚¯ãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆï¼ˆãŠè©¦ã—ç‰ˆï¼‰
# ============================================
if 'theme' not in st.session_state:
    st.session_state.theme = 'ãƒ©ã‚¤ãƒˆ'
theme = st.radio("ãƒ†ãƒ¼ãƒé¸æŠ", ["ãƒ©ã‚¤ãƒˆ", "ãƒ€ãƒ¼ã‚¯"], index=0 if st.session_state.theme == 'ãƒ©ã‚¤ãƒˆ' else 1, horizontal=True)
st.session_state.theme = theme

if theme == 'ãƒ€ãƒ¼ã‚¯':
    st.markdown("""
    <style>
    body { background-color: #0E1117; color: white; }
    </style>
    """, unsafe_allow_html=True)

# ============================================
# UIè¦ç´  åŸºæœ¬ç·¨
# ============================================
with st.expander("ğŸ› ï¸ åŸºæœ¬çš„ãªUIè¦ç´ ï¼ˆãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›ãƒ»ãƒœã‚¿ãƒ³ãªã©ï¼‰", expanded=True):
    st.subheader("ğŸ”¤ ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›")
    name = st.text_input("ã‚ãªãŸã®åå‰ã¯ï¼Ÿ", placeholder="ã‚²ã‚¹ãƒˆ")
    st.success(f"ã“ã‚“ã«ã¡ã¯ã€{name}ã•ã‚“ï¼")

    st.divider()

    st.subheader("ğŸ–±ï¸ ãƒœã‚¿ãƒ³")
    if st.button("ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã¿ã¦ãã ã•ã„"):
        st.success("ãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã¾ã—ãŸï¼ğŸ‰")

    st.divider()

    st.subheader("âœ… ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹")
    if st.checkbox("ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã‚‹ã¨...ï¼Ÿ"):
        st.info("ğŸ éš ã—ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ç™ºè¦‹ï¼")

    st.divider()

    st.subheader("ğŸšï¸ ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼")
    age = st.slider("å¹´é½¢ã‚’é¸ã‚“ã§ãã ã•ã„", 0, 100, 25)
    st.write(f"ã‚ãªãŸã®å¹´é½¢: **{age}æ­³**")

    st.divider()

    st.subheader("ğŸ”½ ã‚»ãƒ¬ã‚¯ãƒˆãƒœãƒƒã‚¯ã‚¹")
    language = st.selectbox("å¥½ããªãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã¯ï¼Ÿ", ["Python", "JavaScript", "Java", "C++", "Go", "Rust"])
    st.write(f"ã‚ãªãŸãŒé¸ã‚“ã ã®ã¯ **{language}** ã§ã™ã€‚")

# ============================================
# ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆç·¨
# ============================================
with st.expander("ğŸ“ ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¨é…ç½®ï¼ˆã‚«ãƒ©ãƒ ãƒ»ã‚¿ãƒ–ãªã©ï¼‰"):
    st.subheader("ğŸ“‘ ã‚«ãƒ©ãƒ ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ")
    col1, col2 = st.columns(2)
    with col1:
        st.info("ã“ã‚Œã¯å·¦å´ã®ã‚«ãƒ©ãƒ ã§ã™")
    with col2:
        st.success("ã“ã‚Œã¯å³å´ã®ã‚«ãƒ©ãƒ ã§ã™")

    st.divider()

    st.subheader("ğŸ—‚ï¸ ã‚¿ãƒ–ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ")
    tab1, tab2 = st.tabs(["ç¬¬1ã‚¿ãƒ–", "ç¬¬2ã‚¿ãƒ–"])
    with tab1:
        st.write("ğŸ‘‰ ã“ã‚Œã¯ç¬¬1ã‚¿ãƒ–ã®å†…å®¹ã§ã™")
    with tab2:
        st.write("ğŸ‘‰ ã“ã‚Œã¯ç¬¬2ã‚¿ãƒ–ã®å†…å®¹ã§ã™")

# ============================================
# ãƒ‡ãƒ¼ã‚¿è¡¨ç¤ºç·¨
# ============================================
with st.expander("ğŸ“Š ãƒ‡ãƒ¼ã‚¿è¡¨ç¤ºï¼ˆè¡¨ãƒ»ã‚°ãƒ©ãƒ•ï¼‰"):
    st.subheader("ğŸ§® ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ¬ãƒ¼ãƒ  (ç·¨é›†å¯èƒ½)")
    df = pd.DataFrame({
        'åå‰': ['ç”°ä¸­', 'éˆ´æœ¨', 'ä½è—¤', 'é«˜æ©‹', 'ä¼Šè—¤'],
        'å¹´é½¢': [25, 30, 22, 28, 33],
        'éƒ½å¸‚': ['æ±äº¬', 'å¤§é˜ª', 'ç¦å²¡', 'æœ­å¹Œ', 'åå¤å±‹']
    })
    st.data_editor(df, use_container_width=True)

    st.divider()

    st.subheader("ğŸ“ˆ ãƒ©ã‚¤ãƒ³ãƒãƒ£ãƒ¼ãƒˆ")
    chart_data = pd.DataFrame(np.random.randn(20, 3), columns=['A', 'B', 'C'])
    st.line_chart(chart_data)

# ============================================
# ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–æ©Ÿèƒ½ç·¨
# ============================================
with st.expander("ğŸ¯ ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–æ©Ÿèƒ½ï¼ˆãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ãƒ»ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ï¼‰"):
    st.subheader("ğŸ“ˆ ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼")
    progress = st.progress(0)
    if st.button("é€²æ—ã‚’ã‚¹ã‚¿ãƒ¼ãƒˆï¼"):
        for i in range(101):
            time.sleep(0.01)
            progress.progress(i)
        st.balloons()

    st.divider()

    st.subheader("ğŸ“‚ ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰")
    uploaded_file = st.file_uploader("ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„", type=["csv", "txt"])
    if uploaded_file is not None:
        st.success("ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¾ã—ãŸï¼")
        st.write(f"ãƒ•ã‚¡ã‚¤ãƒ«å: {uploaded_file.name}")
        if uploaded_file.name.endswith(".csv"):
            df = pd.read_csv(uploaded_file)
            st.dataframe(df)

# ============================================
# ä½¿ã„æ–¹ã‚¬ã‚¤ãƒ‰ + æœ€å¾Œã®ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆ
# ============================================
st.divider()
st.subheader("ğŸ§­ ä½¿ã„æ–¹ã‚¬ã‚¤ãƒ‰")
st.markdown("""
1. ã‚³ãƒ¼ãƒ‰ã®ã‚³ãƒ¡ãƒ³ãƒˆï¼ˆ#ã§å§‹ã¾ã‚‹è¡Œï¼‰ã‚’æ¢ã—ã¦ãã ã•ã„
2. ã‚³ãƒ¡ãƒ³ãƒˆã‚’è§£é™¤ã—ã¦ä¿å­˜
3. ãƒ–ãƒ©ã‚¦ã‚¶ã§ãƒªãƒ­ãƒ¼ãƒ‰ã—ã¦å¤‰åŒ–ã‚’ç¢ºèªï¼
""")
st.code("""
# ä¾‹ï¼š
# if st.button("ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„"):
#     st.success("ã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã¾ã—ãŸï¼")

# ã‚³ãƒ¡ãƒ³ãƒˆè§£é™¤å¾Œ
if st.button("ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„"):
    st.success("ã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã¾ã—ãŸï¼")
""")

st.divider()

# â¡ï¸ è¿½åŠ ï¼šæœ€å¾Œã®å°ã•ãªã‚¢ãƒ³ã‚±ãƒ¼ãƒˆ
st.subheader("ğŸ“ æœ¬æ—¥ã®ä½“é¨“ã¯ã„ã‹ãŒã§ã—ãŸã‹ï¼Ÿ")
experience = st.radio(
    "æº€è¶³åº¦ã‚’æ•™ãˆã¦ãã ã•ã„",
    ["ã¨ã¦ã‚‚è‰¯ã‹ã£ãŸ", "ã¾ã‚ã¾ã‚è‰¯ã‹ã£ãŸ", "æ™®é€š", "ã‚ã¾ã‚Šè‰¯ããªã‹ã£ãŸ"],
    horizontal=True
)
if st.button("çµæœã‚’é€ä¿¡"):
    st.success(f"ã‚ãªãŸã®å›ç­”ï¼š{experience}ã€€ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸï¼")
